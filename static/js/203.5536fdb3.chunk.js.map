{"version":3,"file":"static/js/203.5536fdb3.chunk.js","mappings":"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","sources":["components/common/formsControls/FormsControls.jsx","components/dialogs/AddMessageForm.jsx","webpack://learning-react/./src/components/dialogs/Dialogs.module.css?04a9","components/dialogs/dialogItem/DialogItem.jsx","components/dialogs/message/Message.jsx","components/dialogs/Dialogs.jsx","hoc/withAuthRedirect.js","components/dialogs/DialogsContainer.jsx","utils/validators/validators.js","webpack://learning-react/./src/components/common/formsControls/FormsControls.module.css?6519"],"sourcesContent":["import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\nimport styles from \"./FormsControls.module.css\";\r\n\r\n\r\nconst FromControl = ({input, meta: {touched, error}, ...props}) => {\r\n  const hasError = touched && error; \r\n\r\n  return (\r\n    <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n      <div>\r\n        {props.children}\r\n      </div>\r\n      {hasError && <span>{error}</span>}\r\n    </div>\r\n  )\r\n};\r\n\r\n\r\nexport const Textarea = (props) => {\r\n  const {input, meta, child, ...restProps} = props;\r\n\r\n  return (\r\n    <FromControl {...props}><textarea {...input} {...restProps} /></FromControl>\r\n  )\r\n};\r\n\r\n\r\nexport const Input = (props) => {\r\n  const {input, meta, child, ...restProps} = props;\r\n  return (\r\n    <FromControl {...props}><input {...input} {...restProps} /></FromControl>\r\n  )\r\n};\r\n\r\n\r\nexport const createField = (placeholder, name, component, validators, props = {}, text = \"\") => (\r\n  <div>\r\n    <Field placeholder={placeholder} name={name} component={component} validate={validators} {...props} />\r\n    {text}\r\n  </div> \r\n);","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { maxLengthCreator, required } from '../../utils/validators/validators';\r\nimport { Textarea } from '../common/formsControls/FormsControls';\r\n\r\n\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\n\r\nconst AddMessageForm = (props) => {\r\n  \r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field component={Textarea} validate={[required, maxLength50]} name=\"newMessageBody\" placeholder='Введите Ваше сообщение' />\r\n        </div>\r\n        <button>Отправить</button>\r\n    </form>\r\n  )\r\n};\r\n\r\n\r\nexport default reduxForm({form: 'dialogAddMessageForm'})(AddMessageForm);\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"dialogs\":\"Dialogs_dialogs__vlNI8\",\"dialogsItems\":\"Dialogs_dialogsItems__oCSp4\",\"dialog\":\"Dialogs_dialog__2H2OY\",\"messages\":\"Dialogs_messages__sPROQ\",\"message\":\"Dialogs_message__GY1bh\",\"messageElement\":\"Dialogs_messageElement__aIILo\"};","import { NavLink } from 'react-router-dom';\r\nimport style from './../Dialogs.module.css';\r\n\r\n\r\nconst DialogItem = ({name, id, src}) => {\r\n  return (\r\n    <div className={style.dialog}>\r\n      <img src={src}/>\r\n      <NavLink to={`/dialogs/${id}`}>{name}</NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DialogItem;","import style from './../Dialogs.module.css';\r\n\r\n\r\nconst Message = ({message, src}) => {\r\n  return (\r\n    <div className={style.messageElement}>\r\n      <img src={src} alt=\"avatar\" />\r\n      <div className={style.message}>{message}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;","import React from 'react';\r\nimport AddMessageForm from './AddMessageForm';\r\nimport DialogItem from './dialogItem/DialogItem';\r\nimport style from './Dialogs.module.css';\r\nimport Message from './message/Message';\r\n\r\n\r\n\r\nconst Dialogs = ({dialogsPages, sendMessage}) => {\r\n\r\n  const dialogElements = dialogsPages.dialogs.map( ({id, name, src}) => {\r\n    return <DialogItem name={name} key={id} id={id} src={src} />\r\n  });\r\n\r\n  const messagesElements = dialogsPages.messages.map( ({message, src, id}) => {\r\n    return <Message message={message} src={src} key={id}/>\r\n  });\r\n\r\n  const addNewMessage = (values) => {\r\n    sendMessage(values.newMessageBody);\r\n  }\r\n \r\n  return (\r\n    <div className={style.dialogs}>\r\n      <div className={style.dialogsItems}>\r\n        {dialogElements}\r\n      </div>\r\n      <div className={style.messages}>\r\n        {messagesElements}\r\n        <AddMessageForm onSubmit={addNewMessage}/>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dialogs;","import React from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nconst mapStateToPropsForRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n});\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Navigate to=\"/login\" />\r\n  \r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n};","import { connect } from 'react-redux';\r\nimport { addMessageCreator, onMessageChangeCreator } from '../redux/dialogs-reducer';\r\nimport Dialogs from './Dialogs';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    dialogsPages: state.dialogsPages\r\n  };\r\n};\r\n\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    sendMessage: (newMessageBody) => {\r\n      dispatch(addMessageCreator(newMessageBody));\r\n    }\r\n  };\r\n};\r\n\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  withAuthRedirect\r\n)(Dialogs);\r\n","export const required = value => {\r\n  if (value) return undefined;\r\n\r\n  return \"Field is required\";\r\n};\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value.length > maxLength) return `Max lengths is ${maxLength} symbols`;\r\n\r\n  return undefined;\r\n};\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"formControl\":\"FormsControls_formControl__VZufH\",\"error\":\"FormsControls_error__VE14A\",\"formSummaryError\":\"FormsControls_formSummaryError__Y-xFD\",\"imageCaptcha\":\"FormsControls_imageCaptcha__VIGc9\"};"],"names":["FromControl","input","meta","touched","error","props","hasError","className","styles","children","Textarea","restProps","child","Input","createField","placeholder","name","component","validators","text","validate","maxLength50","maxLengthCreator","reduxForm","form","onSubmit","handleSubmit","Field","required","id","src","style","to","message","alt","dialogsPages","sendMessage","dialogElements","dialogs","map","messagesElements","messages","values","newMessageBody","mapStateToPropsForRedirect","state","isAuth","auth","compose","connect","dispatch","addMessageCreator","Component","RedirectComponent","this","React","Dialogs","value","maxLength","length"],"sourceRoot":""}